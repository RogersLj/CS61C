# 计算机体系结构中的伟大思想：
1. 面向摩尔定律设计
2. 抽象简化
3. 加速经常性时间
4. 并行和流水线
5. 预测提高性能
6. 存储层次
7. 通过冗余度增加可靠性

# 性能
响应时间，也叫执行时间，完成一个任务从开始到结束的时间
吞吐率，指单位时间能够完成的任务量

因为会出现排队，所以在实际的计算机系统中，响应时间往往会和吞吐率相互影响。

讨论性能时，暂时考虑响应时间：
$$
性能_X =  \frac{1}{执行时间_X} 
$$
响应时间越短，性能越好

所以执行速度是n倍，那么性能也就是n倍

程序的执行时间一般以秒为单位。
响应时间，为完成某项任务需要的总时间，包括了磁盘访问，内存访问，IO活动等总时间。
CPU时间，指任务在CPU上执行的时间

硬件完成一个原子任务的时间，成为时钟周期数，就是一个始终中期的时间。时钟周期可以是时间，也可以用时钟频率表示。
例如一个时钟周期是250ps，对应的时钟频率就是4GHZ
时钟周期其实就是指的一个时钟周期的长度，往往一个指令的执行需要一个时钟周期

$$
程序的CPU执行时间 = 程序执行的时钟周期数 \times 一个时钟周期的长度
程序的CPU执行时间 = \frac{程序执行的时钟周期数}{时钟频率}
$$

提高性能，就是要缩短每条指令执行的时钟周期数，或者缩短时钟周期长度

$$
CPU时钟周期数 = 程序的指令数 \times 指令平均周期数
$$

指令平均时钟周期数 clock cycle per instruction - CPI

对于固定的程序，每台计算机执行的总指令数是相同的。

# CPU性能公式

$$ 
CPU时间 = 指令数 \times CPI \times 时钟周期长度
$$
$$
CPU时间 = \frac{指令数 \times CPI}{时钟频率}
$$

$$
执行时间 = \frac{秒}{程序} \frac{指令数}{程序} \frac{时钟周期数}{指令} \frac{秒}{时钟周期数}
$$

指令数依赖于计算机体系结构，也就是指令集的设计
但是CPI取与计算机的设计有关，例如存储器和处理器的结构

